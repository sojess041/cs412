{% extends 'mini_fb/base.html' %}

{% block content %}
    <h2>{{ profile.first_name }} {{ profile.last_name }}</h2>



    <!-- Profile PICTURE -->
    {% if profile.image_file %}
        <img src="{{ profile.image_file.url }}" alt="{{ profile.first_name }}'s Profile Picture" width="150" height="150">
    {% else %}
        <p>No profile picture available.</p>
    {% endif %}

    
    <p>City: {{ profile.city }}</p>
    <p>Email: {{ profile.email }}</p>

    <h3><a href="{% url 'add_status' profile.pk %}">Add a Status Message</a></h3>

    <h3>Status Messages</h3>
    {% for status in profile.statusmessage_set.all %}

    

        <p>"{{ status.text }}"</p>
        <small>{{ status.created_at|date:"F j, Y, g:i a" }}</small>

        <!-- Display images associated with the status -->
        <div>
        {% for status_image in status.statusimage_set.all %}
            <img src="{{ status_image.image.image_file.url }}" alt="Status Image" width="200">
        {% endfor %}
    </div>
    {% empty %}
        <p>No status messages yet.</p>
    {% endfor %}

{% endblock %}
